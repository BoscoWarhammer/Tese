\begin{algorithm}
    \SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
    \Input{velocity and shear fluid profiles, grains drag and Archimedes' forces, time step $\Delta t$ and spatial step $\Delta z$}
    \Output{variables of the fluid ready to simulate next time step}
    \ForEach{body}{
        Calculate body pressure on the fluid\;
    }
    \ForAll{fluid}{
        \uIf{explicit}{
            Calculate the fluid shear\;
            Update the fluid velocity\;
        }
        \uElseIf{implicit}{
            Update the fluid velocity\;
            Calculate the fluid shear\;
        }
    }
    \caption[Update fluid.]{Routine that updates the fluid states for the next time step.}
    \label{alg:fluido}
\end{algorithm}
